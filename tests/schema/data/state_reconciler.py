state_reconcilers = [
    (
        dict(
            apiVersion='datapio.co/v1',
            kind='StateReconciler',
            metadata=dict(name='example'),
            spec=dict(
                observe=dict(
                    apiVersion='v1',
                    kind='Pod',
                    namespaces='*'
                ),
                match=dict(
                    field='spec.serviceAccountName',
                    where=['$eq', 'default']
                ),
                reconcile=dict(
                    deleteExtras=True
                )
            )
        ),
        True
    ),
    (
        dict(
            apiVersion='datapio.co/v1',
            kind='StateReconciler',
            metadata=dict(name='example'),
            spec=dict(
                observe=dict(
                    apiVersion='v1',
                    kind='Pod',
                    namespaces=['default']
                ),
                match=dict(
                    field='spec.serviceAccountName',
                    where=['$eq', 'default']
                ),
                reconcile=dict(
                    deleteExtras=True
                )
            )
        ),
        True
    ),
    (
        dict(
            apiVersion='datapio.co/v1',
            kind='StateReconciler',
            metadata=dict(name='example'),
            spec=dict(
                observe=dict(
                    apiVersion='v1',
                    kind='Pod',
                    namespaces='*'
                ),
                match=dict(
                    oneOf=[
                        dict(
                            field='spec.serviceAccountName',
                            where=['$eq', 'default']
                        )
                    ]
                ),
                reconcile=dict(
                    deleteExtras=True
                )
            )
        ),
        True
    ),
    (
        dict(
            apiVersion='datapio.co/v1',
            kind='StateReconciler',
            metadata=dict(name='example'),
            spec=dict(
                observe=dict(
                    apiVersion='v1',
                    kind='Pod',
                    namespaces='*'
                ),
                match=dict(
                    allOf=[
                        dict(
                            field='spec.serviceAccountName',
                            where=['$eq', 'default']
                        )
                    ]
                ),
                reconcile=dict(
                    deleteExtras=True
                )
            )
        ),
        True
    ),
    (
        dict(
            apiVersion='datapio.co/v1',
            kind='StateReconciler',
            metadata=dict(name='example'),
            spec=dict(
                observe=dict(
                    apiVersion='v1',
                    kind='Pod',
                    namespaces='*'
                ),
                match=dict(
                    field='spec.serviceAccountName',
                    where=['$eq', 'default']
                ),
                reconcile=dict(
                    patch=dict(
                        spec=dict(
                            serviceAccountName='default'
                        )
                    )
                )
            )
        ),
        True
    ),
    (
        dict(
            apiVersion='datapio.co/v1',
            kind='StateReconciler',
            metadata=dict(name='example'),
            spec=dict(
                observe=dict(
                    apiVersion='v1',
                    kind='Pod',
                    namespaces='*'
                ),
                match=dict(
                    field='spec.serviceAccountName',
                    where=['$eq', 'default']
                ),
                reconcile=dict(
                    webhook='http://example.com/webhook'
                )
            )
        ),
        True
    ),
    (
        dict(
            apiVersion='datapio.co/v1',
            kind='StateReconciler',
            metadata=dict(name='example'),
            spec=dict(
                observe=dict(
                    apiVersion='v1',
                    kind='Pod',
                    namespaces='default'
                ),
                match=dict(
                    field='spec.serviceAccountName',
                    where=['$eq', 'default']
                ),
                reconcile=dict(
                    deleteExtras=True
                )
            )
        ),
        False
    ),
    (
        dict(
            apiVersion='datapio.co/v1',
            kind='StateReconciler',
            metadata=dict(name='example'),
            spec=dict(
                observe=dict(
                    apiVersion='v1',
                    kind='Pod',
                    namespaces='*'
                ),
                match=dict(
                    field='spec.serviceAccountName',
                    where=['$unknown', 'default']
                ),
                reconcile=dict(
                    deleteExtras=True
                )
            )
        ),
        False
    ),
    (
        dict(
            apiVersion='wrong.datapio.co/v1',
            kind='StateReconciler',
            metadata=dict(name='example'),
            spec=dict(
                observe=dict(
                    apiVersion='v1',
                    kind='Pod',
                    namespaces='*'
                ),
                match=dict(
                    field='spec.serviceAccountName',
                    where=['$eq', 'default']
                ),
                reconcile=dict(
                    deleteExtras=True
                )
            )
        ),
        False
    ),
    (
        dict(
            apiVersion='datapio.co/v1',
            kind='StateReconcilerWrong',
            metadata=dict(name='example'),
            spec=dict(
                observe=dict(
                    apiVersion='v1',
                    kind='Pod',
                    namespaces='*'
                ),
                match=dict(
                    field='spec.serviceAccountName',
                    where=['$eq', 'default']
                ),
                reconcile=dict(
                    deleteExtras=True
                )
            )
        ),
        False
    )
]
